# 22. 括号生成
这种动态规划为什么是正确的？需要回答两个问题：

1. 为什么没有重复

2. 为什么没有缺失

## 为什么没有重复
本动态规划的状态转移方程如下所示。

$$ f(n) = \sum_{i=0}^{n-1} f(i)f(n-1-i) $$


以 f(3) 为例，f(3) 的计算式如下：

$$ f(3) = '('+f(0)+')'+f(2) \\
+ '('+f(1)+')'+f(1) \\
+ '('+f(2)+')'+f(0)
$$

考虑 `'('+f(2)+')'+f(0)` 项，因为 f(0) 是空字符串，因此其本质上就是 `'('+f(2)+')'`。该字符串的长度与 `'('+f(1)+')'+f(1)` 等项相同，显而易见 `'('+f(2)+')' != '('+f(1)+')'+f(1)`。

同理，`'('+f(1)+')' != '('+f(0)+')'+两位字符`。因此 f(3) 展开式中的每一项均无重复。


## 为什么没有缺失
该动态规划是对称的，即以下展开式也成立。

$$ f(3) = f(0)+'('+f(2)+')' \\
+ f(1)+'('+f(1)+')' \\
+ f(2)+'('+f(0)+')'
$$

不失一般性，只需要分析：剩下的括号要么在这一组新增的括号内部，要么在这一组新增括号的外部（右侧）。

该问题可以转换为：这种遍历方式会漏掉哪些情况。
